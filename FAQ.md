# ❓ よくある質問（FAQ）

## 🎯 このドキュメントについて

日本語話者認識システムについて、ユーザーから頻繁に寄せられる質問をまとめました。

## 📋 目次

- [基本的な質問](#-基本的な質問)
- [話者管理について](#-話者管理について)
- [背景データ・埋め込みについて](#-背景データ埋め込みについて)
- [技術的な質問](#-技術的な質問)
- [トラブルシューティング](#-トラブルシューティング)
- [性能・精度について](#-性能精度について)

## 🤔 基本的な質問

### Q1: このアプリは何ができるの？

**A: 音声ファイルから「誰の声か」を識別できます**

具体例:
```
入力: 会議録音.wav
出力: 田中部長の声です（信頼度: 89.2%）
```

用途:
- 会議録音の発言者特定
- コールセンターの品質管理
- セキュリティシステム
- 研究・教育用途

### Q2: 料金はかかる？

**A: 無料です**

- ソフトウェア本体: **無料**（オープンソース）
- モデル: **無料**（Hugging Face Hub）
- データセット: **無料**（JVS, Common Voice）

### Q3: インターネット接続は必要？

**A: 初回のみ必要です**

- **初回**: モデルダウンロードのため必要
- **2回目以降**: オフラインで動作可能
- **Common Voice**: ストリーミング取得時のみ必要

### Q4: どのOSで動く？

**A: Windows, Mac, Linuxで動作します**

- Windows 10/11
- macOS 10.15以降
- Ubuntu 18.04以降
- Python 3.8以上が必要

## 👥 話者管理について

### Q5: 何人まで登録できる？

**A: 理論上は無制限ですが、実用的には50人程度まで**

推奨人数:
- **小規模**: 5〜10人（高速・高精度）
- **中規模**: 20〜30人（実用的）
- **大規模**: 50人以上（処理時間増加）

### Q6: JVSみたいに埋め込み作成は必要？

**A: 不要です！フォルダ操作だけで完了**

| JVS/Common Voice | 普通の話者 |
|------------------|------------|
| 30分〜1時間の処理 | 数秒〜数十秒 |
| 専用スクリプト実行 | フォルダにコピーだけ |
| .npzファイル作成 | 音声ファイルそのまま |

### Q7: 音声ファイルはいくつ必要？

**A: 1人あたり2〜5個が目安**

```
✅ 推奨:
- 最低: 2個
- 理想: 3〜5個
- 上限: 10個程度

推奨理由:
- 2個未満: 精度不足
- 10個超: 処理時間増加、効果頭打ち
```

### Q8: 音声の長さはどのくらい？

**A: 3秒〜15秒が最適**

```
✅ 最適な長さ:
- 挨拶: 「おはようございます。田中です」(5秒)
- 自己紹介: 「営業部の佐藤と申します」(6秒)
- 業務連絡: 「会議の件で連絡しました」(7秒)

❌ 避けるべき:
- 短すぎ: 「はい」(1秒)
- 長すぎ: 30秒の長いスピーチ
```

### Q9: どんな音声が良い？

**A: 自然な話し方の音声**

```
✅ 良い音声:
- 普通の会話
- 電話での応対
- 会議での発言
- 自己紹介

❌ 避けるべき音声:
- 歌声
- ささやき声
- 叫び声
- 音楽やノイズ混入
- 複数人が同時に話している
```

## 🗂️ 背景データ・埋め込みについて

### Q10: 背景データって何？必要？

**A: 識別精度を向上させるデータです。オプションですが推奨**

役割:
```
通常の識別:
話者A: 0.51  ← 微妙な差
話者B: 0.49

背景データ使用時（AS-Norm）:
話者A: 2.3   ← 明確な差
話者B: -0.8
```

効果: **識別精度が大幅向上**

### Q11: JVSと Common Voice の違いは？

**A: データの特徴と取得方法が違います**

| 項目 | JVS | Common Voice |
|------|-----|--------------|
| **話者数** | 100名 | 数千名 |
| **音質** | 高品質（スタジオ録音） | 一般的（一般投稿） |
| **取得** | 手動ダウンロード必要 | 自動ストリーミング |
| **ライセンス** | 再配布禁止 | CC0（自由使用） |
| **処理時間** | 30分〜1時間 | 15分〜30分 |

両方使用すると最高精度になります。

### Q12: 埋め込みファイルのサイズは？

**A: 音声ファイルより大幅に小さくなります**

```
JVS:
元データ: 2.7GB（音声ファイル）
埋め込み: 3.8MB（.npzファイル）
圧縮率: 99.9%

Common Voice:
ストリーミング: 全量DL不要
埋め込み: 19MB（.npzファイル）
```

### Q13: ダミーファイルって何？

**A: 動作確認用の仮データです**

用途:
- システムの動作確認
- 認証なしでの体験
- 開発・テスト用

注意:
```
⚠️ ダミーファイルは精度が劣ります
本格運用では実データを使用してください
```

## 🔧 技術的な質問

### Q14: GPU は必要？

**A: 必須ではありませんが、あると高速化されます**

処理時間の比較:
```
JVS埋め込み作成:
- CPU: 30分〜1時間
- GPU: 10分〜20分

話者識別:
- CPU: 5秒〜10秒
- GPU: 1秒〜3秒
```

対応GPU:
- NVIDIA GPU（CUDA対応）
- Apple Silicon（MPS対応）

### Q15: メモリはどのくらい必要？

**A: 4GB以上推奨**

```
最小構成: 2GB（動作可能）
推奨構成: 4GB（快適）
大規模運用: 8GB以上（多数話者登録時）
```

### Q16: 対応している音声形式は？

**A: 主要な音声形式に対応**

```
✅ 対応形式:
- WAV（推奨）
- MP3
- FLAC
- M4A
- OGG

❌ 非対応:
- MP4（動画）
- AVI（動画）
- WMA
```

### Q17: セキュリティは大丈夫？

**A: ローカル環境で完結するため安全です**

特徴:
- **データ外部送信なし**: 全てローカル処理
- **インターネット不要**: 初回後はオフライン可
- **プライバシー保護**: 音声データは手元に残る

## 🐛 トラブルシューティング

### Q18: モデル初期化でエラーが出る

**A: 以下を順番に確認してください**

```
1. インターネット接続確認
2. Python環境確認: python --version
3. ライブラリ再インストール: pip install -r requirements.txt --upgrade
4. アプリ再起動: Ctrl+C → streamlit run app.py
```

### Q19: 話者が表示されない

**A: フォルダ構造と音声ファイルを確認**

チェック項目:
```
✅ フォルダの場所: enroll\話者名\
✅ 音声形式: WAV, MP3など対応形式
✅ 音声長: 2秒以上30秒以下
✅ ファイル破損: 他のプレイヤーで再生可能か
```

### Q20: 識別精度が悪い

**A: 以下の方法で改善できます**

短期的改善:
```
1. 音声ファイル追加（1人あたり3〜5個）
2. 音質改善（ノイズ除去）
3. 音声長調整（3〜15秒）
```

長期的改善:
```
1. JVS埋め込み作成
2. Common Voice埋め込み作成
3. config.json調整
```

### Q21: Common Voice で認証エラー

**A: 以下の手順で解決**

```
エラー: Dataset is a gated dataset
解決法:
1. https://huggingface.co/ でアカウント作成
2. データセットアクセス申請
3. huggingface-cli login で認証

または:
自動フォールバック機能で古いバージョン使用
```

## 📊 性能・精度について

### Q22: 識別精度はどのくらい？

**A: 条件により大きく変わります**

一般的な精度:
```
基本設定（背景データなし）:
- 5人以下: 85〜95%
- 10人程度: 75〜90%
- 20人以上: 60〜80%

AS-Norm使用時:
- 5人以下: 90〜98%
- 10人程度: 85〜95%
- 20人以上: 75〜90%
```

### Q23: リアルタイム処理はできる？

**A: 準リアルタイムは可能です**

処理時間:
```
話者識別: 1秒〜10秒
（音声長や環境による）

ライブストリーミング:
現在未対応（ファイルアップロードのみ）
```

### Q24: 多言語対応は？

**A: 現在は日本語のみです**

理由:
- ECAPAモデル: 多言語対応
- 背景データ: 日本語（JVS, Common Voice日本語）
- システム設計: 日本語特化

他言語での使用:
```
可能ですが：
- 背景データなしでの動作
- 精度低下の可能性
```

### Q25: 商用利用は可能？

**A: ライセンスを確認した上で可能です**

各コンポーネントのライセンス:
```
✅ システム本体: MIT（商用可）
✅ SpeechBrain: Apache 2.0（商用可）
⚠️ JVS: 研究用途のみ（商用は要確認）
✅ Common Voice: CC0（商用可）
```

推奨: 商用利用前に各ライセンスを詳細確認

## 🎯 その他

### Q26: 更新やアップデートは？

**A: GitHubで最新版を公開予定**

更新内容:
- バグ修正
- 機能追加
- 性能改善
- 新しいモデル対応

### Q27: コントリビューション（貢献）は可能？

**A: 大歓迎です！**

貢献方法:
- バグ報告: GitHub Issues
- 機能要望: GitHub Issues
- コード改善: Pull Request
- ドキュメント改善: Pull Request

### Q28: サポートはある？

**A: コミュニティベースのサポート**

サポート窓口:
- **GitHub Issues**: 技術的問題
- **README.md**: 基本的な使い方
- **FAQ.md**: よくある質問（このファイル）

---

## 📞 まだ解決しない場合

1. **ドキュメント確認**:
   - [README.md](README.md)
   - [SPEAKER_MANAGEMENT_GUIDE.md](SPEAKER_MANAGEMENT_GUIDE.md)
   - [QUICK_START_GUIDE.md](QUICK_START_GUIDE.md)

2. **GitHub Issues**で質問投稿

3. **ログ確認**: アプリ画面のエラーメッセージを詳細に記録

この FAQ で解決しない問題があれば、お気軽にお問い合わせください！